<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <title>Trivia</title>
        <style>
            body {
                padding-left: 5vw;
                padding-right: 5vw;
            }    
        </style>
    </head>
    <header>
        <div class="logo">
            Trivia
        </div>
    </header>
<body>
    <h2>*If you want a question to be True/False, make sure you include (T/F) in the body of the question and type "True" in the answer A slot and "False" in the answer B slot!*</h2>
    <div id="countdown"></div>
    <form method="post" action="/post_qs">
            <label for="start_date">Select Trivia Start Date: </label><br>
            <input type="date" name="start_date" id="start_date" required/><br><br>
            <label for="start_time">Select Trivia Start Time: </label><br>
            <input type="time" name="start_time" id="start_time" required/><br><br>

			<p>Question 1</p>
            <textarea class='question form-control' name='q1' placeholder="Question"></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct1" class="correct">
                <option value="" selected="selected"></option>
				<option value="a">A</option>
				<option value="b">B</option>
				<option value="c">C</option>
                <option value="d">D</option>
                <option value="t">True</option>
                <option value="f">False</option> 
            </select>
                <label>A</label><input type='text' name='option1_q1' class='answer answer1 input-group-text'>
                <label>B</label><input type='text' name='option2_q1' class='answer answer2 input-group-text'>
                <label>C</label><input type='text' name='option3_q1' class='answer answer3 input-group-text'>
                <label>D</label><input type='text' name='option4_q1' class='answer answer4 input-group-text'>
            </div>
			<br>
			<p>Question 2</p>
            <textarea class='question form-control' name='q2'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct2" class="correct">
                <option value="" selected="selected"></option>
				<option value="a">A</option>
				<option value="b">B</option>
				<option value="c">C</option>
                <option value="d">D</option>
                <option value="t">True</option>
                <option value="f">False</option> 
			</select> 
			A<input type='text' name='option1_q2' class='answer answer1 input-group-text'>
			B<input type='text' name='option2_q2' class='answer answer2 input-group-text'>
			C<input type='text' name='option3_q2' class='answer answer3 input-group-text'>
            D<input type='text' name='option4_q2' class='answer answer4 input-group-text'>
            </div>
			<br>
			<p>Question 3</p>
            <textarea class='question form-control' name='q3'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct3" class="correct">
                <option value="" selected="selected"></option>
				<option value="a">A</option>
				<option value="b">B</option>
				<option value="c">C</option>
                <option value="d">D</option>
                <option value="t">True</option>
                <option value="f">False</option> 
			</select> 
			A<input type='text' name='option1_q3' class='answer answer1 input-group-text'>
			B<input type='text' name='option2_q3' class='answer answer2 input-group-text'>
			C<input type='text' name='option3_q3' class='answer answer3 input-group-text'>
            D<input type='text' name='option4_q3' class='answer answer4 input-group-text'>
            </div>
            <br>
			<p>Question 4</p>
            <textarea class='question form-control' name='q4'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct4" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q4' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q4' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q4' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q4' class='answer answer4 input-group-text'>
                </div>
                <br>            
            
			<p>Question 5</p>
            <textarea class='question form-control' name='q5'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct5" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q5' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q5' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q5' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q5' class='answer answer4 input-group-text'>
                </div>
                <br> 
            
			<p>Question 6</p>
            <textarea class='question form-control' name='q6'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct6" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q6' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q6' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q6' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q6' class='answer answer4 input-group-text'>
                </div>
                <br>
        
            <p>Question 7</p>
            <textarea class='question form-control' name='q7'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct7" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q7' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q7' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q7' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q7' class='answer answer4 input-group-text'>
                </div>
                <br>
        
            <p>Question 8</p>
            <textarea class='question form-control' name='q8'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct8" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q8' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q8' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q8' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q8' class='answer answer4 input-group-text'>
                </div>
                <br>
        
            <p>Question 9</p>
            <textarea class='question form-control' name='q9'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct9" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q9' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q9' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q9' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q9' class='answer answer4 input-group-text'>
                </div>
                <br>
        
            <p>Question 10</p>
            <textarea class='question form-control' name='q10'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct10" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q10' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q10' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q10' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q10' class='answer answer4 input-group-text'>
                </div>
                <br>
        
            <p>Question 11</p>
            <textarea class='question form-control' name='q11'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct11" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q11' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q11' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q11' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q11' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 12</p>
            <textarea class='question form-control' name='q12'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct12" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q12' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q12' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q12' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q12' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 13</p>
            <textarea class='question form-control' name='q13'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct13" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q13' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q13' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q13' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q13' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 14</p>
            <textarea class='question form-control' name='q14'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct14" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q14' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q14' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q14' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q14' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 15</p>
            <textarea class='question form-control' name='q15'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct15" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q15' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q15' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q15' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q15' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 16</p>
            <textarea class='question form-control' name='q16'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct16" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q16' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q16' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q16' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q16' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 17</p>
            <textarea class='question form-control' name='q17'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct17" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q17' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q17' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q17' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q17' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 18</p>
            <textarea class='question form-control' name='q18'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct18" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q18' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q18' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q18' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q18' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 19</p>
            <textarea class='question form-control' name='q19'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct19" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q19' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q19' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q19' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q19' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 20</p>
            <textarea class='question form-control' name='q20'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct20" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q20' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q20' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q20' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q20' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 21</p>
            <textarea class='question form-control' name='q21'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct21" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q21' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q21' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q21' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q21' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 22</p>
            <textarea class='question form-control' name='q22'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct22" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q22' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q22' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q22' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q22' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 23</p>
            <textarea class='question form-control' name='q23'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct23" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q23' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q23' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q23' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q23' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 24</p>
            <textarea class='question form-control' name='q24'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct24" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option> 
                </select> 
                A<input type='text' name='option1_q24' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q24' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q24' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q24' class='answer answer4 input-group-text'>
                </div>
                <br>
            
			<p>Question 25</p>
            <textarea class='question form-control' name='q25'></textarea>
            <div class="input-group input-group-sm">  
            <select name="correct25" class="correct">
                    <option value="" selected="selected"></option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                    <option value="t">True</option>
                    <option value="f">False</option>                    
                </select> 
                A<input type='text' name='option1_q25' class='answer answer1 input-group-text'>
                B<input type='text' name='option2_q25' class='answer answer2 input-group-text'>
                C<input type='text' name='option3_q25' class='answer answer3 input-group-text'>
                D<input type='text' name='option4_q25' class='answer answer4 input-group-text'>
                </div>
                <br><br>
            <!--onsubmit="return Client.handleSubmit();"-->
            <input type="submit" class="btn btn-success" name="sub" id="sub" value="Submit Questions/Answers" >
        </form>
        <br>
        <input type="button" class="retrieve btn btn-primary" value="Retrieve Questions/Answers" onclick="updateUI();"/>

        <script>
            const questions = document.querySelectorAll(".question");
            const answer1 = document.querySelectorAll(".answer1");
            const answer2 = document.querySelectorAll(".answer2");
            const answer3 = document.querySelectorAll(".answer3");
            const answer4 = document.querySelectorAll(".answer4");
            const correct = document.querySelectorAll(".correct");
            const start_date = document.getElementById('start_date');
            const start_time = document.getElementById('start_time');

            const showTime = () => {
                //console.log(start_date.value);
                /*
                const strArr = start_date.value.split('T');
                const date = strArr[0];
                const time = strArr[1];
                */
                //console.log(`Date: ${date}, Time: ${time}`); 
                let newDt = new Date(Date.parse(`${start_date.value}T${start_time.value}:00.000-06:00`));
                console.log(newDt);
                //example string: 2020-11-24T19:00
            };

            //fetches api responses from local server and acts as execution control for helper functions
            const updateUI = async () => { 

                const res = await fetch(`/get_qs`);
                try {
                    //form.classList.add('hide');
                    const resp = await res.text();
                    try {
                        
                        //option1_q1.innerHTML = resp.choice1  
                        console.log(resp);
                        //console.log(JSON.parse(resp));
                        let parsed = JSON.parse(resp);
                        questions.forEach((question, i=0) => {
                            question.value = parsed[i].q;
                            i++;
                        });
                        correct.forEach((right, i=0) => {
                            right.value = parsed[i].correct;
                            i++;
                        });
                        answer1.forEach((option, i=0) => {
                            option.value = parsed[i].option1;
                            i++;
                        });
                        answer2.forEach((answer, i=0) => {
                            answer.value = parsed[i].option2;
                            i++;
                        });
                        answer3.forEach((answer, i=0) => {
                            answer.value = parsed[i].option3;
                            i++;
                        });
                        answer4.forEach((answer, i=0) => {
                            answer.value = parsed[i].option4;
                            i++;
                        });          
                    
                    }
                    catch(err){
                        console.log(err);
                    }
                }
                catch(error){
                    console.log(error);
                }
                
            };
        </script>

</body>
</html>